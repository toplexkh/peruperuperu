window.yii=function(a){function c(){a.ajaxPrefilter(function(a,c,d){!a.crossDomain&&b.getCsrfParam()&&d.setRequestHeader("X-CSRF-Token",b.getCsrfToken())}),b.refreshCsrfToken()}function d(){a(document).ajaxComplete(function(a,b){var c=b&&b.getResponseHeader("X-Redirect");c&&window.location.assign(c)})}function e(){var b={};a("script[src]").each(function(){var a=i(this.src);b[a]=!0}),a.ajaxPrefilter("script",function(a,c,d){if("jsonp"!=a.dataType){var e=i(a.url),f=!0===b[e]&&!g(e),h=void 0!==b[e]&&!0===b[e].xhrDone;if(f||h)return void d.abort();void 0!==b[e]&&!0!==b[e]||(b[e]={xhrList:[],xhrDone:!1}),d.done(function(a,c,d){if(!0!==b[d.yiiUrl].xhrDone){b[d.yiiUrl].xhrDone=!0;for(var e=0,f=b[d.yiiUrl].xhrList.length;e<f;e++){var g=b[d.yiiUrl].xhrList[e];g&&g.readyState!==XMLHttpRequest.DONE&&g.abort()}b[d.yiiUrl]=!0}}).fail(function(a,c){if("abort"!==c){delete b[a.yiiUrl].xhrList[a.yiiIndex];for(var d=!0,e=0,f=b[a.yiiUrl].xhrList.length;e<f;e++)b[a.yiiUrl].xhrList[e]&&(d=!1);d&&delete b[a.yiiUrl]}}),d.yiiIndex=b[e].xhrList.length,d.yiiUrl=e,b[e].xhrList[d.yiiIndex]=d}}),a(document).ajaxComplete(function(){var b=[];a("link[rel=stylesheet]").each(function(){var c=i(this.href);g(c)||(-1===a.inArray(c,b)?b.push(c):a(this).remove())})})}function f(){var c=function(c){var d=a(this),e=d.data("method"),f=d.data("confirm"),g=d.data("form");return void 0===e&&void 0===f&&void 0===g||(void 0!==f?a.proxy(b.confirm,this)(f,function(){b.handleAction(d,c)}):b.handleAction(d,c),c.stopImmediatePropagation(),!1)};a(document).on("click.yii",b.clickableSelector,c).on("change.yii",b.changeableSelector,c)}function g(a){for(var c=0;c<b.reloadableScripts.length;c++){var d=i(b.reloadableScripts[c]);if(!0===new RegExp("^"+h(d).split("\\*").join(".*")+"$").test(a))return!0}return!1}function h(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function i(a){return"/"===a.charAt(0)?b.getBaseCurrentUrl()+a:a}var b={reloadableScripts:[],clickableSelector:'a, button, input[type="submit"], input[type="button"], input[type="reset"], input[type="image"]',changeableSelector:"select, input, textarea",getCsrfParam:function(){return a("meta[name=csrf-param]").attr("content")},getCsrfToken:function(){return a("meta[name=csrf-token]").attr("content")},setCsrfToken:function(b,c){a("meta[name=csrf-param]").attr("content",b),a("meta[name=csrf-token]").attr("content",c)},refreshCsrfToken:function(){var c=b.getCsrfToken();c&&a('form input[name="'+b.getCsrfParam()+'"]').val(c)},confirm:function(a,b,c){window.confirm(a)?!b||b():!c||c()},handleAction:function(c,d){var m,e=c.attr("data-form")?a("#"+c.attr("data-form")):c.closest("form"),f=!c.data("method")&&e?e.attr("method"):c.data("method"),g=c.attr("href"),h=g&&"#"!==g,i=c.data("params"),j=i&&a.isPlainObject(i),k=c.data("pjax"),l=void 0!==k&&0!==k&&a.support.pjax,n={};if(l&&(m=c.data("pjax-container")||c.closest("[data-pjax-container]"),m.length||(m=a("body")),n={container:m,push:!!c.data("pjax-push-state"),replace:!!c.data("pjax-replace-state"),scrollTo:c.data("pjax-scrollto"),pushRedirect:c.data("pjax-push-redirect"),replaceRedirect:c.data("pjax-replace-redirect"),skipOuterContainers:c.data("pjax-skip-outer-containers"),timeout:c.data("pjax-timeout"),originalEvent:d,originalTarget:c}),void 0===f)return void(h?l?a.pjax.click(d,n):window.location.assign(g):c.is(":submit")&&e.length&&(l&&e.on("submit",function(b){a.pjax.submit(b,n)}),e.trigger("submit")));var o,p,q=!e.length;if(q){h||(g=b.getCurrentUrl()),e=a("<form/>",{method:f,action:g});var r=c.attr("target");if(r&&e.attr("target",r),/(get|post)/i.test(f)||(e.append(a("<input/>",{name:"_method",value:f,type:"hidden"})),f="post",e.attr("method",f)),/post/i.test(f)){var s=b.getCsrfParam();s&&e.append(a("<input/>",{name:s,value:b.getCsrfToken(),type:"hidden"}))}e.hide().appendTo("body")}else o=e.attr("method"),e.attr("method",f),h&&(p=e.attr("action"),e.attr("action",g));var t=e.data("yiiActiveForm");t&&(t.submitObject=c),j&&a.each(i,function(b,c){e.append(a("<input/>").attr({name:b,value:c,type:"hidden"}))}),l&&e.on("submit",function(b){a.pjax.submit(b,n)}),e.trigger("submit"),a.when(e.data("yiiSubmitFinalizePromise")).then(function(){if(q)return void e.remove();void 0!==p&&e.attr("action",p),e.attr("method",o),j&&a.each(i,function(b){a('input[name="'+b+'"]',e).remove()})})},getQueryParams:function(b){var c=b.indexOf("?");if(c<0)return{};for(var d=b.substring(c+1).split("#")[0].split("&"),e={},f=0,g=d.length;f<g;f++){var h=d[f].split("="),i=decodeURIComponent(h[0].replace(/\+/g,"%20")),j=decodeURIComponent(h[1].replace(/\+/g,"%20"));i.length&&(void 0===e[i]?e[i]=j||"":(a.isArray(e[i])||(e[i]=[e[i]]),e[i].push(j||"")))}return e},initModule:function(c){(void 0===c.isActive||c.isActive)&&(a.isFunction(c.init)&&c.init(),a.each(c,function(){a.isPlainObject(this)&&b.initModule(this)}))},init:function(){c(),d(),e(),f()},getBaseCurrentUrl:function(){return window.location.protocol+"//"+window.location.host},getCurrentUrl:function(){return window.location.href}};return b}(window.jQuery),window.jQuery(function(){window.yii.initModule(window.yii)});